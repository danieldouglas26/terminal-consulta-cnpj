<!DOCTYPE html><html lang="pt-br"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Capsys Corp. Terminal de Consulta</title><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet"><style>:root{--a:98vw;--b:95vh;--c:20px;--d:#081408;--e:rgba(0, 255, 100, 0.15);--f:rgba(0, 255, 100, 0.05);--g:#45ff45;--h:#39ff39;--i:#159915}html,body{margin:0;height:100%;background:radial-gradient(circle at center,#1a1a1a 0%,#000 90%);display:flex;justify-content:center;align-items:center;overflow:hidden;font-family:'Fira Code',monospace}.monitor{position:relative;width:var(--a);height:var(--b);max-width:1600px;background:linear-gradient(145deg,#333 0%,#111 100%);border-radius:2.5rem;box-shadow:0 0 0 15px #080808,inset 0 0 80px rgba(0,0,0,0.8),0 50px 100px rgba(0,0,0,0.6);display:flex;padding:var(--c);box-sizing:border-box}.screen{width:100%;height:100%;background-color:var(--d);border-radius:1.5rem;overflow:hidden;position:relative;box-shadow:inset 0 0 50px rgba(0,0,0,0.7);animation:screen-hum 4s linear infinite;cursor:text}.screen::before,.screen::after{content:"";position:absolute;inset:0;pointer-events:none}.screen::before{background:radial-gradient(ellipse at center,rgba(0,255,100,0.1) 0%,transparent 70%);box-shadow:inset 0 0 150px rgba(0,0,0,0.9);z-index:2}.screen::after{background-image:repeating-linear-gradient(0deg,transparent,var(--e) 1px,transparent 2px),repeating-linear-gradient(90deg,var(--f) 1px,transparent 2px);background-size:100% 3px,3px 100%;opacity:0.4;animation:noise 0.15s linear infinite;z-index:3}.terminal{width:100%;height:100%;color:var(--g);font-size:clamp(14px,1.5vw,18px);padding:25px;box-sizing:border-box;overflow-y:auto;position:relative;z-index:1;text-shadow:1px 0px 1px rgba(255,0,0,0.4),-1px 0px 1px rgba(0,255,255,0.4),0 0 5px var(--h),0 0 15px var(--i);animation:flicker 0.1s infinite}@keyframes noise{0%{background-position:0 0}100%{background-position:10% 10%}}@keyframes screen-hum{0%{transform:scale(1.001)}50%{transform:scale(1)}100%{transform:scale(1.001)}}@keyframes flicker{0%,100%{opacity:1;filter:brightness(1.2) contrast(1.2)}50%{opacity:.98;filter:brightness(1) contrast(1)}}@keyframes blink{50%{opacity:0}}.cursor{display:inline-block;background-color:var(--g);box-shadow:0 0 5px var(--h);width:12px;height:1.2em;animation:blink 1.2s step-end infinite;vertical-align:bottom;margin-left:2px}.terminal::-webkit-scrollbar{width:0}.text-success{color:var(--g)}.text-error{color:#ff5555}.text-info{color:#88ff88}.text-comment{color:#45ff45;opacity:0.6}.matrix-canvas{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;display:none}</style></head><body><div class="monitor"><div class="screen"><canvas id="matrix-canvas" class="matrix-canvas"></canvas><div class="terminal" id="terminal"></div></div></div><script>
document.addEventListener('DOMContentLoaded', () => {
    const l = document.getElementById('terminal');
    const m = document.querySelector('.screen');
    const n = new Audio('sounds/mixkit-typewriter-soft-hit-1366.wav');
    const a = new Audio('sounds/mixkit-hard-typewriter-click-1119.wav');
    let b = [];
    let c = 0;
    let d = false;
    let e = false;
    let f;
    const o = [{text:"Booting Capsys OS v4.0 (Consulta Mode)...",class:'text-info'},{text:"Loading API modules... [OK]",class:'text-success'},{text:" ",delay:100},{text:"Terminal de Consulta de CNPJ pronto.",class:'text-info'},{text:" ",delay:100},{text:`Data: ${new Date().toString()}`,class:'text-comment'},{text:" ",delay:100}];
    let g = false;
    let h = [];
    function i(){l.innerHTML='';g=true;j(o,()=>{g=false;q('Digite o CNPJ para consulta:')})}
    function j(sequence, finalCallback){let index=0;const nextLine=()=>{if(!g)return;if(index<sequence.length){const item=sequence[index++];const timeoutId=setTimeout(()=>A(item.text,item.class,nextLine),item.delay||50);h.push(timeoutId)}else if(finalCallback){finalCallback()}};nextLine()}
    function k(){if(!g)return;g=false;h.forEach(clearTimeout);h=[];l.innerHTML='';o.forEach(line=>A(line.text,line.class));q('Digite o CNPJ para consulta:')}
    function q(label){if(document.querySelector('.prompt'))return;const promptWrapper=document.createElement('div');promptWrapper.className='line prompt';promptWrapper.innerHTML=`<span>${label}&nbsp;</span><span class="input-area" contenteditable="true"></span><span class="cursor"></span>`;l.appendChild(promptWrapper);const inputArea=promptWrapper.querySelector('.input-area');inputArea.addEventListener('keydown',t);inputArea.addEventListener('input',r);B(inputArea);l.scrollTop=l.scrollHeight}
    function r(e){if(d)return;const inputArea=e.target;const rawText=inputArea.innerText;if(/[^0-9.\/-]/.test(rawText)){d=true;inputArea.innerText=rawText.replace(/[.\/-]/g,'');d=false;B(inputArea);return}const digitsOnly=rawText.replace(/\D/g,'');d=true;const formatted=s(digitsOnly);inputArea.innerText=formatted;d=false;B(inputArea)}
    function s(value){if(!value)return"";value=value.replace(/\D/g,'').substring(0,14);if(value.length<3){return value}if(value.length<=5){return value.replace(/(\d{2})(\d+)/,'$1.$2')}if(value.length<=8){return value.replace(/(\d{2})(\d{3})(\d+)/,'$1.$2.$3')}if(value.length<=12){return value.replace(/(\d{2})(\d{3})(\d{3})(\d+)/,'$1.$2.$3/$4')}return value.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,'$1.$2.$3/$4-$5')}
    function t(e){if(g&&e.key==='Enter'){e.preventDefault();k();return}const inputArea=e.target;switch(e.key){case 'Enter':e.preventDefault();a.currentTime=0;a.play();const command=inputArea.innerText.trim();const promptElement=document.querySelector('.prompt');if(promptElement){const label=promptElement.querySelector('span:first-child').innerText;promptElement.innerHTML=`<span>${label}</span>${command}`;promptElement.classList.remove('prompt')}if(command){b.push(command);c=b.length;u(command)}else{q('Digite o CNPJ para consulta:')}break;case 'ArrowUp':case 'ArrowDown':e.preventDefault();if(e.key==='ArrowUp'&&c>0){c--;inputArea.innerText=b[c];B(inputArea)}else if(e.key==='ArrowDown'){if(c<b.length-1){c++;inputArea.innerText=b[c];B(inputArea)}else if(c===b.length-1){c++;inputArea.innerText=''}}break;default:if(e.key.length===1){n.currentTime=0;n.play()}break}}
    function u(input){const isCommand=/[^0-9.\/-]/.test(input);if(isCommand){w(input.toLowerCase())}else{const cleanedInput=input.replace(/\D/g,'');if(cleanedInput.length!==14){z("CNPJ deve ter 14 dígitos.");q('Digite outro CNPJ ou CTRL+R para reiniciar:');return}if(!v(cleanedInput)){z("CNPJ inválido (dígitos verificadores não conferem).");q('Digite outro CNPJ ou CTRL+R para reiniciar:');return}x(cleanedInput)}}
    function w(command){const parts=command.split(' ');const baseCommand=parts[0];switch(baseCommand){case 'help':A('Comandos disponíveis:','text-info');A('- clear, ls, whoami, date, help, capsys, matrix, startx','text-comment');A('- start [jogo]: Inicia um jogo (ex: start duke nukem)','text-comment');break;case 'ls':A("drwxr-xr-x &nbsp;2 capsys &nbsp;staff &nbsp; 64B Oct 7 11:26 <span class='text-info'>jogos/</span>");A("-rw-r--r-- &nbsp;1 capsys &nbsp;staff &nbsp;1.2K Oct 7 09:15 README.md");break;case 'clear':l.innerHTML='';break;case 'date':A(new Date().toString(),'text-comment');break;case 'whoami':A('guest','text-info');break;case 'capsys':const logo=[" &nbsp; _____ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _____ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"," &nbsp;/ ____| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; / ____| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"," | | &nbsp; &nbsp; __ _ _ __ | (___ &nbsp; "," | | &nbsp; &nbsp;/ _` | '_ \\ \\___ \\"," | |___| (_| | |_) |____) | "," &nbsp;\\_____\\__,_| .__/|_____/ &nbsp;"," &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"," &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |_| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"];logo.forEach(line=>A(line));A("Visite nosso site: https://capsys.com.br",'text-info');window.open('https://capsys.com.br','_blank');break;case 'matrix':p();break;case 'cd':const cdname=parts.slice(1).join(' ');if(cdname==='jogos'||cdname==='jogo'){A("doom, duke nukem",'text-info')}else{A(`bash: diretório '${cdname}' não encontrado.`,'text-error')}break;case 'start':const gameName=parts.slice(1).join(' ');if(gameName==='duke nukem'||gameName==='dook nuke'){A("Iniciando Duke Nukem 3D em uma nova aba...",'text-info');window.open('duke.html','_blank')}else{A(`bash: Jogo '${gameName}' não encontrado.`,'text-error')}break;case 'startx':A("Iniciando interface gráfica...",'text-info');window.open('../With-Desktop/loginv3.html','_blank');break;default:A(`bash: comando não encontrado: ${command}`,'text-error');break}if(!e){q('Digite o CNPJ para consulta:')}}
    function v(cnpj){cnpj=cnpj.replace(/[^\d]+/g,'');if(cnpj===''||cnpj.length!=14||/^(\d)\1+$/.test(cnpj))return false;let tamanho=12,numeros=cnpj.substring(0,tamanho),digitos=cnpj.substring(12);let soma=0,pos=5;for(let i=tamanho;i>=1;i--){soma+=numeros.charAt(tamanho-i)*pos--;if(pos<2)pos=9}let resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(0))return false;tamanho=13;numeros=cnpj.substring(0,tamanho);soma=0;pos=6;for(let i=tamanho;i>=1;i--){soma+=numeros.charAt(tamanho-i)*pos--;if(pos<2)pos=9}resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(1))return false;return true}
    async function x(cnpj){A('Consultando CNPJ...','text-comment');try{const response=await fetch(`https://publica.cnpj.ws/cnpj/${cnpj}`);if(!response.ok){throw new Error(`CNPJ não encontrado ou API indisponível (status: ${response.status})`)}const data=await response.json();y(data)}catch(error){z(error.message)}finally{q('Digite outro CNPJ ou CTRL+R para reiniciar:')}}
    function y(data){const contentWidth=70;const border=`+${'-'.repeat(contentWidth)}+`;const d=data.estabelecimento;const formattedData={"CNPJ":d.cnpj,"Razao Social":data.razao_social,"Nome Fantasia":d.nome_fantasia,"Situacao Cadastral":d.situacao_cadastral,"Data Inicio Atividades":d.data_inicio_atividade,"Natureza Juridica":data.natureza_juridica.descricao,"Capital Social":`R$ ${parseFloat(data.capital_social).toFixed(2)}`,"Email":d.email,"Telefone":`${d.ddd1} ${d.telefone1}`,"Endereco":`${d.tipo_logradouro} ${d.logradouro}, ${d.numero}`,"Bairro":d.bairro,"Municipio":`${d.cidade.nome} - ${d.estado.sigla}`,"CEP":d.cep};A(' ','text-success');A(border,'text-success');for(const key in formattedData){const value=formattedData[key]||"N/A";const line=`| ${key.padEnd(25)}: ${(value).toString().substring(0,contentWidth-30).padEnd(contentWidth-30)}|`;A(line,'text-success')}A(border,'text-success');A(' ','text-success')}
    function z(message){const contentWidth=70;const border=`+${'-'.repeat(contentWidth)}+`;A(' ','text-error');A(border,'text-error');A(`| ERRO: ${message.padEnd(contentWidth-8)}|`,'text-error');A(border,'text-error');A(' ','text-error')}
    function A(text,className='',callback){const line=document.createElement('div');if(className)line.classList.add(className);line.innerHTML=text.replace(/ /g,'&nbsp;');l.appendChild(line);l.scrollTop=l.scrollHeight;if(callback)callback()}
    function B(el){if(!el)return;el.focus();const range=document.createRange();const sel=window.getSelection();range.selectNodeContents(el);range.collapse(false);sel.removeAllRanges();sel.addRange(range)}
    function p(){if(e)return;e=true;const canvas=document.getElementById('matrix-canvas');const ctx=canvas.getContext('2d');canvas.style.display='block';const setCanvasSize=()=>{canvas.width=m.clientWidth;canvas.height=m.clientHeight};setCanvasSize();window.addEventListener('resize',setCanvasSize);const originalTerminalContent=l.innerHTML;l.innerHTML='';const stopMessage=document.createElement('div');stopMessage.innerHTML="Pressione qualquer tecla para sair do modo Matrix...";stopMessage.className='text-info';stopMessage.style.textAlign='center';stopMessage.style.paddingTop='40%';l.appendChild(stopMessage);const katakana='アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン';const alphabet=katakana+'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';const fontSize=16;const columns=canvas.width/fontSize;const rainDrops=Array.from({length:columns}).map(()=>1);const draw=()=>{ctx.fillStyle='rgba(8, 20, 8, 0.05)';ctx.fillRect(0,0,canvas.width,canvas.height);ctx.fillStyle='#45ff45';ctx.font=fontSize+'px monospace';rainDrops.forEach((y,ind)=>{const text=alphabet.charAt(Math.floor(Math.random()*alphabet.length));const x=ind*fontSize;ctx.fillText(text,x,y*fontSize);if(y*fontSize>canvas.height&&Math.random()>0.975){rainDrops[ind]=0}rainDrops[ind]++});};f=setInterval(draw,33);const stopMatrix=(e)=>{e.preventDefault();clearInterval(f);e=false;canvas.style.display='none';window.removeEventListener('resize',setCanvasSize);document.removeEventListener('keydown',stopMatrix,{capture:true,once:true});l.innerHTML=originalTerminalContent;q('Digite o CNPJ para consulta:')};document.addEventListener('keydown',stopMatrix,{capture:true,once:true})}
    m.addEventListener('click', () => {const inputArea=l.querySelector('.input-area');if(inputArea){B(inputArea)}});
    document.addEventListener('keydown', (e) => {if(g&&e.key==='Enter'){k()}});
    i();
});
</script></body></html>
