<!DOCTYPE html><html lang="pt-br"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Capsys Corp. Terminal de Consulta</title><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet"><style>:root{--a:98vw;--b:95vh;--c:20px;--d:#081408;--e:rgba(65, 92, 76, 0.15);--f:rgba(0, 255, 100, 0.05);--g:#45ff45;--h:#39ff39;--i:#159915;--j:#88ff88}html,body{margin:0;height:100%;background:radial-gradient(circle at center,#1a1a1a 0%,#000 90%);display:flex;justify-content:center;align-items:center;overflow:hidden;font-family:'Fira Code',monospace}.monitor{position:relative;width:var(--a);height:var(--b);max-width:1600px;background:linear-gradient(145deg,#333 0%,#111 100%);border-radius:2.5rem;box-shadow:0 0 0 15px #080808,inset 0 0 80px rgba(0,0,0,0.8),0 50px 100px rgba(0,0,0,0.6);display:flex;padding:var(--c);box-sizing:border-box;transition:all 0.3s ease-in-out}.screen{width:100%;height:100%;background-color:var(--d);border-radius:1.5rem;overflow:hidden;position:relative;box-shadow:inset 0 0 50px rgba(0,0,0,0.7);cursor:text;transition:border-radius 0.3s ease-in-out;display:flex;flex-direction:column}.screen::before,.screen::after{content:"";position:absolute;inset:0;pointer-events:none}.screen::before{background:radial-gradient(ellipse at center,rgba(0,255,100,0.1) 0%,transparent 70%);z-index:2}.screen::after{background-image:repeating-linear-gradient(0deg,transparent,var(--e) 1px,transparent 2px),repeating-linear-gradient(90deg,var(--f) 1px,transparent 2px);background-size:100% 3px,3px 100%;opacity:0.4;animation:noise 0.15s linear infinite;z-index:3}.terminal{color:var(--g);font-size:clamp(14px,1.5vw,18px);padding:25px;box-sizing:border-box;overflow-y:auto;position:relative;z-index:1;text-shadow:0 0 5px var(--h),0 0 15px var(--i);animation:flicker 0.1s infinite;transition:padding 0.3s ease-in-out;flex-grow:1}@keyframes noise{0%{background-position:0 0}100%{background-position:10% 10%}}@keyframes flicker{0%,100%{opacity:1}50%{opacity:.98}}@keyframes blink{50%{opacity:0}}.cursor{display:inline-block;background-color:var(--g);box-shadow:0 0 5px var(--h);width:10px;height:1.2em;animation:blink 1.2s step-end infinite;vertical-align:bottom;margin-left:2px}.terminal::-webkit-scrollbar{width:0}.text-success{color:var(--g)}.text-error{color:#ff5555}.text-info{color:var(--j)}.text-comment{color:#45ff45;opacity:.6}.mobile-prompt-label,.input-bar{display:none}.prompt-label{color:var(--j);white-space:nowrap}.input-area{flex-grow:1;outline:none;word-break:break-all;min-width:10px;color:#a2ffbd}.history-buttons button{background:transparent;border:1px solid var(--g);color:var(--g);font-size:1em;padding:2px 8px;margin-left:8px;border-radius:4px;line-height:1.5;opacity:.8}.copy-button{background-color:transparent;border:1px solid var(--g);color:var(--g);font-family:'Fira Code',monospace;font-size:.9em;padding:5px 10px;margin:15px 0 10px 0;cursor:pointer;text-shadow:inherit;transition:all 0.2s ease}.copy-button:hover{background-color:var(--g);color:var(--d)}@media (max-width:768px){body{align-items:flex-start}.monitor{width:100vw;height:100vh;max-height:100%;border-radius:0;padding:0;box-shadow:none}.screen{border-radius:0}.terminal{font-size:clamp(13px,3vw,16px);padding:15px 15px 0 15px}.copy-button{padding:8px 12px;font-size:1em}.prompt.desktop-only{display:none}.mobile-prompt-label{display:block;padding:10px 15px 8px 15px;color:var(--j);font-size:.9em;opacity:.8;flex-shrink:0}.input-bar{display:flex}}</style></head><body><div class="monitor"><div class="screen"><canvas id="matrix-canvas" style="position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; display:none;"></canvas><div class="terminal" id="terminal"></div><div class="mobile-prompt-label"></div><div class="input-bar"><span class="prompt-label"></span><span class="input-area" contenteditable="true"></span><span class="cursor"></span><div class="history-buttons"><button id="history-up">▲</button><button id="history-down">▼</button></div></div></div></div><script>
document.addEventListener('DOMContentLoaded', () => {
    const l = document.getElementById('terminal');
    const m = document.querySelector('.screen');
    const n = document.querySelector('.input-bar');
    const o = n.querySelector('.input-area');
    const p = n.querySelector('.prompt-label');
    const q = document.querySelector('.mobile-prompt-label');
    const r = document.getElementById('history-up');
    const s = document.getElementById('history-down');
    const t = new Audio('sounds/mixkit-typewriter-soft-hit-1366.wav');
    const u = new Audio('sounds/mixkit-hard-typewriter-click-1119.wav');
    let v = [];
    let w = 0;
    let x = false;
    let y = false;
    let z;
    let A = false;
    const B = [{text:"Booting Capsys OS v4.0 (Consulta Mode)...",class:'text-info'},{text:"Loading API modules... [OK]",class:'text-success'},{text:" ",delay:100},{text:"Terminal de Consulta de CNPJ pronto.",class:'text-info'},{text:" ",delay:100},{text:`Data: ${new Date().toString()}`,class:'text-comment'},{text:" ",delay:100}];
    function C(){l.innerHTML='';D(B,()=>{E('Digite o CNPJ para consulta:')})}
    function D(sequence, finalCallback){let index=0;const nextLine=()=>{if(index<sequence.length){const item=sequence[index++];setTimeout(()=>F(item.text,item.class,nextLine),item.delay||50)}else if(finalCallback){finalCallback()}};nextLine()}
    function G(){l.innerHTML='';B.forEach(line=>F(line.text,line.class));E('Digite o CNPJ para consulta:')}
    function E(label){const oldDesktopPrompt=l.querySelector('.prompt.desktop-only');if(oldDesktopPrompt)oldDesktopPrompt.remove();const desktopPromptWrapper=document.createElement('div');desktopPromptWrapper.className='line prompt desktop-only';desktopPromptWrapper.innerHTML=`<span>${label}&nbsp;</span><span class="input-area" contenteditable="true"></span><span class="cursor"></span>`;l.appendChild(desktopPromptWrapper);const desktopInputArea=desktopPromptWrapper.querySelector('.input-area');q.textContent=label;p.innerHTML=`>&nbsp;`;z=window.innerWidth<=768?o:desktopInputArea;[desktopInputArea,o].forEach(input=>{input.removeEventListener('keydown',H);input.removeEventListener('input',I);input.addEventListener('keydown',H);input.addEventListener('input',I)});J(z);l.scrollTop=l.scrollHeight}
    function K(direction){if(direction==='up'&&w>0){w--}else if(direction==='down'){if(w<v.length){w++}else{return}}else{return}z.innerText=v[w]||'';J(z)}
    r.addEventListener('click',()=>K('up'));s.addEventListener('click',()=>K('down'));
    function I(e){if(x)return;const inputArea=e.target;const rawText=inputArea.innerText;if(/[^0-9.\/-]/.test(rawText)){x=true;inputArea.innerText=rawText.replace(/[.\/-]/g,'');x=false;J(inputArea);return}const digitsOnly=rawText.replace(/\D/g,'');x=true;const formatted=L(digitsOnly);inputArea.innerText=formatted;x=false;J(inputArea)}
    function L(value){value=(value||"").replace(/\D/g,'').substring(0,14);if(value.length<=2)return value;if(value.length<=5)return value.replace(/(\d{2})(\d+)/,'$1.$2');if(value.length<=8)return value.replace(/(\d{2})(\d{3})(\d+)/,'$1.$2.$3');if(value.length<=12)return value.replace(/(\d{2})(\d{3})(\d{3})(\d{0,4})/,'$1.$2.$3/$4');return value.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{0,2})/,'$1.$2.$3/$4-$5')}
    function H(e){switch(e.key){case 'Enter':e.preventDefault();if(!A){u.currentTime=0;u.play()}const command=z.innerText.trim();const currentPrompt=l.querySelector('.prompt');if(currentPrompt){const label=currentPrompt.querySelector('span:first-child').innerText;currentPrompt.innerHTML=`<span>${label}</span>${command}`;currentPrompt.classList.remove('prompt','desktop-only')}else if(window.innerWidth<=768){F(`>&nbsp;${command}`)}if(command){if(command!==v[v.length-1]){v.push(command)}w=v.length;M(command)}else{E('Digite o CNPJ para consulta:')}z.innerText='';break;case 'ArrowUp':e.preventDefault();K('up');break;case 'ArrowDown':e.preventDefault();K('down');break;default:if(!A&&(e.key.length===1||e.key==='Backspace')){t.currentTime=0;t.play()}break}}
    function M(input){if(/[^0-9.\/-]/.test(input)){N(input.toLowerCase())}else{const cleanedInput=input.replace(/\D/g,'');if(cleanedInput.length!==14){P("CNPJ deve ter 14 dígitos.");return E('Digite outro CNPJ ou CTRL+R para reiniciar:')}if(!O(cleanedInput)){P("CNPJ inválido (dígitos verificadores não conferem).");return E('Digite outro CNPJ ou CTRL+R para reiniciar:')}Q(cleanedInput)}}
    function N(command){const parts=command.split(' ');const baseCommand=parts[0];switch(baseCommand){case 'sound':A=!A;F(A?"Sons desabilitados.":"Sons habilitados.",'text-comment');break;case 'help':F('Comandos disponíveis:','text-info');F('- clear, ls, whoami, date, help, capsys, matrix, startx, sound','text-comment');F('- start [jogo]: Inicia um jogo (ex: start duke nukem)','text-comment');break;case 'ls':F("drwxr-xr-x 2 capsys staff 64B Oct 7 16:38 <span class='text-info'>jogos/</span>");F("-rw-r--r-- 1 capsys staff 1.2K Oct 7 09:15 README.md");break;case 'clear':l.innerHTML='';break;case 'date':F(new Date().toString(),'text-comment');break;case 'whoami':F('guest','text-info');break;case 'capsys':const logo=[" &nbsp; _____ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _____ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"," &nbsp;/ ____| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; / ____| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"," | | &nbsp; &nbsp; __ _ _ __ | (___ &nbsp; "," | | &nbsp; &nbsp;/ _` | '_ \\ \\___ \\"," | |___| (_| | |_) |____) | "," &nbsp;\\_____\\__,_| .__/|_____/ &nbsp;"," &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"," &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |_| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"];logo.forEach(line=>F(line));F("Visite nosso site: https://capsys.com.br",'text-info');setTimeout(()=>window.open('https://capsys.com.br','_blank'),500);break;case 'matrix':R();break;case 'cd':const cdname=parts.slice(1).join(' ');F(cdname.includes('jogos')?"Conteúdo de jogos/: doom, duke nukem":`bash: diretório '${cdname}' não encontrado.`,cdname.includes('jogos')?'text-info':'text-error');break;case 'start':const gameName=parts.slice(1).join(' ');if(gameName.includes('duke nukem')){F("Iniciando Duke Nukem 3D...",'text-info');window.open('duke.html','_blank')}else{F(`Jogo '${gameName}' não encontrado.`,'text-error')}break;case 'startx':F("Iniciando interface gráfica...",'text-info');window.open('loginv3.html','_blank');break;default:F(`bash: comando não encontrado: ${command}`,'text-error');break}if(!y){E('Digite o CNPJ para consulta:')}}
    function O(cnpj){cnpj=cnpj.replace(/[^\d]+/g,'');if(cnpj===''||cnpj.length!==14||/^(\d)\1+$/.test(cnpj))return false;let tamanho=12,numeros=cnpj.substring(0,tamanho),digitos=cnpj.substring(12),soma=0,pos=5;for(let i=tamanho;i>=1;i--){soma+=parseInt(numeros.charAt(tamanho-i))*pos--;if(pos<2)pos=9}let resultado=soma%11<2?0:11-(soma%11);if(resultado!==parseInt(digitos.charAt(0)))return false;tamanho=13;numeros=cnpj.substring(0,tamanho);soma=0;pos=6;for(let i=tamanho;i>=1;i--){soma+=parseInt(numeros.charAt(tamanho-i))*pos--;if(pos<2)pos=9}resultado=soma%11<2?0:11-(soma%11);if(resultado!==parseInt(digitos.charAt(1)))return false;return true}
    async function Q(cnpj){F('Consultando CNPJ...','text-comment');try{const response=await fetch(`https://publica.cnpj.ws/cnpj/${cnpj}`);if(!response.ok)throw new Error(`API indisponível (status: ${response.status})`);const data=await response.json();S(data)}catch(error){P(error.message)}finally{E('Digite outro CNPJ ou CTRL+R para reiniciar:')}}
    function S(data){const d=data.estabelecimento;const formattedData={"CNPJ":d.cnpj,"Razao Social":data.razao_social,"Nome Fantasia":d.nome_fantasia,"Situacao Cadastral":d.situacao_cadastral,"Data Inicio Atividades":d.data_inicio_atividade,"Natureza Juridica":data.natureza_juridica.descricao,"Capital Social":`R$ ${parseFloat(data.capital_social).toFixed(2)}`,"Email":d.email,"Telefone":`${d.ddd1} ${d.telefone1}`,"Endereco":`${d.tipo_logradouro} ${d.logradouro}, ${d.numero}`,"Bairro":d.bairro,"Municipio":`${d.cidade.nome} - ${d.estado.sigla}`,"CEP":d.cep};let textToCopy='*** Dados da Empresa ***\n\n';const isMobile=window.innerWidth<=768;F(' ','text-success');if(isMobile){for(const key in formattedData){const value=formattedData[key]||"N/A";F(`${key}: ${value}`,'text-info');textToCopy+=`${key}: ${value}\n`}}else{const contentWidth=70;const border=`+${'-'.repeat(contentWidth)}+`;F(border,'text-success');for(const key in formattedData){const value=formattedData[key]||"N/A";const line=`| ${key.padEnd(25)}: ${(value).toString().substring(0,contentWidth-30).padEnd(contentWidth-30)}|`;F(line,'text-success');textToCopy+=`${key}: ${value}\n`}F(border,'text-success')}const buttonWrapper=document.createElement('div');const copyButton=document.createElement('button');copyButton.innerText='[ Copiar Resultado ]';copyButton.className='copy-button';copyButton.addEventListener('click',()=>{navigator.clipboard.writeText(textToCopy.trim()).then(()=>{copyButton.innerText='Copiado para a área de transferência!';setTimeout(()=>{copyButton.innerText='[ Copiar Resultado ]'},2500)}).catch(err=>{console.error('Falha ao copiar o texto: ',err);copyButton.innerText='Erro ao copiar!'})});buttonWrapper.appendChild(copyButton);l.appendChild(buttonWrapper);F(' ','text-success')}
    function P(message){const contentWidth=70;const border=`+${'-'.repeat(contentWidth)}+`;F(' ','text-error');F(border,'text-error');F(`| ERRO: ${message.padEnd(contentWidth-8)}|`,'text-error');F(border,'text-error');F(' ','text-error')}
    function F(text,className,callback){const line=document.createElement('div');if(className)line.className=`line ${className}`;line.innerHTML=text.replace(/ /g,'&nbsp;');l.appendChild(line);l.scrollTop=l.scrollHeight;if(callback)callback()}
    function J(el){if(!el)return;el.focus();if(typeof window.getSelection!="undefined"&&typeof document.createRange!="undefined"){const range=document.createRange();range.selectNodeContents(el);range.collapse(false);const sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}}
    function R(){if(y)return;y=true;const canvas=document.getElementById('matrix-canvas');const ctx=canvas.getContext('2d');canvas.style.display='block';const setCanvasSize=()=>{canvas.width=m.clientWidth;canvas.height=m.clientHeight};setCanvasSize();window.addEventListener('resize',setCanvasSize);const originalTerminalContent=l.innerHTML;l.innerHTML='';const stopMessage=document.createElement('div');stopMessage.innerHTML="Pressione qualquer tecla para sair do modo Matrix...";stopMessage.className='text-info';stopMessage.style.textAlign='center';stopMessage.style.paddingTop='40%';l.appendChild(stopMessage);const katakana='アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン';const alphabet=katakana+'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';const fontSize=16;const columns=canvas.width/fontSize;const rainDrops=Array.from({length:columns}).map(()=>1);const draw=()=>{ctx.fillStyle='rgba(8, 20, 8, 0.05)';ctx.fillRect(0,0,canvas.width,canvas.height);ctx.fillStyle='#45ff45';ctx.font=fontSize+'px monospace';rainDrops.forEach((y,ind)=>{const text=alphabet.charAt(Math.floor(Math.random()*alphabet.length));const x=ind*fontSize;ctx.fillText(text,x,y*fontSize);if(y*fontSize>canvas.height&&Math.random()>0.975){rainDrops[ind]=0}rainDrops[ind]++});};matrixInterval=setInterval(draw,33);const stopMatrix=(e)=>{e.preventDefault();clearInterval(matrixInterval);y=false;canvas.style.display='none';window.removeEventListener('resize',setCanvasSize);document.removeEventListener('keydown',stopMatrix,true);l.innerHTML=originalTerminalContent;E('Digite o CNPJ para consulta:')};document.addEventListener('keydown',stopMatrix,{capture:true,once:true})}
    m.addEventListener('click', (e) => {if (!n.contains(e.target)) J(z)});
    document.addEventListener('keydown', (e) => {if (e.key === 'Enter') {G()}});
    window.addEventListener('resize', () => {z=window.innerWidth<=768?o:l.querySelector('.prompt.desktop-only .input-area')});
    C();
});
</script></body></html>
